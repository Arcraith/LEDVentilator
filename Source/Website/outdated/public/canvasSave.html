<html>
<head>

</head>

<body>
	<canvas id="foo" width="20px" height="20px"></canvas>
	<script>
	var canvas = document.getElementById("foo");
	var ctx = canvas.getContext('2d');
	for (var x = 0; x < 20; x += 10) {
	    for (var y = 0; y < 20; y += 10) {
	        if (x == y) { ctx.fillStyle = '#000000'; }
	        else { ctx.fillStyle = '#8888aa'; }
	        ctx.fillRect(x, y, 10, 10);
	    }
	}
	console.log(canvas.toDataURL());
	</script>

	<script>
	var canvas = document.getElementById("foo");
	var ctx = canvas.getContext('2d');
	for (var x = 0; x < 20; x += 10) {
	    for (var y = 0; y < 20; y += 10) {
	        if (x == y) { ctx.fillStyle = '#8888aa'; }
	        else { ctx.fillStyle = '#000000'; }
	        ctx.fillRect(x, y, 10, 10);
	    }
	}
	console.log(canvas.toDataURL());
	</script>
</body>
</html>